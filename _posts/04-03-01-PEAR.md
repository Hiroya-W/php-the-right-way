---
title: PEAR
isChild: true
---

## PEAR {#pear_title}

古くからあるもうひとつのパッケージ管理ツールが [PEAR][1] だ。
Composer とだいたい同じような感じだけど、違うところもある。

PEARの個々のパッケージは、ルールに従った構造にしておかないといけない。
つまり、PEARで使えるようにするにはパッケージの作者がきちんと準備しておかないといけないってことだ。
PEARで使うことを想定していないプロジェクトは、PEARではうまく使えない。

PEARはパッケージをグローバル環境にインストールする。つまり、
何かパッケージをインストールすれば、同じサーバー上のすべてのプロジェクトでそのパッケージが使えるようになる。
すべてのプロジェクトが同じパッケージの同じバージョンを使ってるというのなら、これは便利だ。
でも、プロジェクトによって使っているバージョンが違うなんていう場合はちょっとまずいことになる可能性がある。

### PEARのインストール

PEARをインストールするには、pharインストーラをダウンロードして実行すればいい。
PEARのドキュメントを見れば、各種OS向けに
[インストール手順の詳しい説明][2] がある。

Linuxを使っている場合は、ディストリビューションが提供しているパッケージマネージャーもチェックしよう。
たとえば、DebianやUbuntuには``php-pear``というaptパッケージが用意されている。

### パッケージのインストール

[PEAR パッケージリスト][3]にあるパッケージなら、名前を指定して次のようにインストールできる。

    pear install foo
    
別のチャネルで公開されているパッケージをインストールするには、まずそのチャネルを
`discover` しないといけない。そして、インストールのときにもチャネル名を指定する。
詳しくは [チャネルの使い方に関するドキュメント][4] を参照すること。

* [PEARについて調べる][1]

### Handling PEAR dependencies with Composer

If you are already using [Composer][5] and you would like to install some PEAR code too, you can use 
Composer to handle your PEAR dependencies. This example will install code from `pear2.php.net`:

{% highlight json %}
{
    "repositories": [
        {
            "type": "pear",
            "url": "http://pear2.php.net"
        }
    ],
    "require": {
        "pear-pear2/PEAR2_Text_Markdown": "*",
        "pear-pear2/PEAR2_HTTP_Request": "*"
    }
}
{% endhighlight %}

The first section `"repositories"` will be used to let Composer know it should "initialise" 
(or "discover" in PEAR terminology) the pear repo. Then the require section will prefix the package 
name like this:

> pear-channel/Package

The "pear" prefix is hardcoded to avoid any conflicts, as a pear channel could be the same as another packages vendor name for example, then the channel short name (or full URL) can be used 
to reference which channel the package is in.

When this code is installed it will be available in your vendor directory and automatically 
available through the Comoser autoloader:

> vendor/pear-pear2.php.net/PEAR2_HTTP_Request/pear2/HTTP/Request.php

To use this PEAR package simply reference it like so:

{% highlight php %}
$request = new pear2\HTTP\Request();
{% endhighlight %}

* [Learn more about using PEAR with Composer][6]

[1]: http://pear.php.net/
[2]: http://pear.php.net/manual/en/installation.getting.php
[3]: http://pear.php.net/packages.php
[4]: http://pear.php.net/manual/en/guide.users.commandline.channels.php
[5]: /#composer_and_packagist
[6]: http://getcomposer.org/doc/05-repositories.md#pear
